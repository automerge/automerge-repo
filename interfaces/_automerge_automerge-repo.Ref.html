<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Ref | Automerge Repo - v2.5.2</title><meta name="description" content="Documentation for Automerge Repo"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">Automerge Repo - v2.5.2</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/_automerge_automerge-repo.html">@automerge/automerge-repo</a></li><li><a href="" aria-current="page">Ref</a></li></ul><h1>Interface Ref&lt;TValue&gt;<code class="tsd-tag">Experimental</code></h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>A reference to a location in an Automerge document.</p>
<p>This API is experimental and may change in future versions.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-9">// Create a ref via DocHandle</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">titleRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;todos&#39;</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-3">&#39;title&#39;</span><span class="hl-1">);</span><br/><span class="hl-2">titleRef</span><span class="hl-1">.</span><span class="hl-6">value</span><span class="hl-1">();           </span><span class="hl-9">// string | undefined</span><br/><span class="hl-2">titleRef</span><span class="hl-1">.</span><span class="hl-6">change</span><span class="hl-1">(</span><span class="hl-2">s</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">s</span><span class="hl-1">.</span><span class="hl-6">toUpperCase</span><span class="hl-1">());</span><br/><span class="hl-2">titleRef</span><span class="hl-1">.</span><span class="hl-6">onChange</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;changed!&#39;</span><span class="hl-1">));</span><br/><br/><span class="hl-9">// Use in function signatures</span><br/><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">doubleIt</span><span class="hl-1">(</span><span class="hl-2">ref</span><span class="hl-1">: </span><span class="hl-7">Ref</span><span class="hl-1">&lt;</span><span class="hl-7">number</span><span class="hl-1">&gt;) {</span><br/><span class="hl-1">  </span><span class="hl-2">ref</span><span class="hl-1">.</span><span class="hl-6">change</span><span class="hl-1">(</span><span class="hl-2">n</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">n</span><span class="hl-1"> * </span><span class="hl-8">2</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div></section><div class="tsd-signature"><span class="tsd-signature-keyword">interface</span> <span class="tsd-kind-interface">Ref</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a> <span class="tsd-signature-symbol">=</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span> <span class="tsd-signature-symbol">{</span><br/>    <a class="tsd-kind-property" href="#dochandle">docHandle</a><span class="tsd-signature-symbol">:</span> <a href="../classes/_automerge_automerge-repo.DocHandle.html" class="tsd-signature-type tsd-kind-class">DocHandle</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#path">path</a><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">PathSegment</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#range">range</a><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">CursorRange</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#rangepositions">rangePositions</a><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-property" href="#url">url</a><span class="tsd-signature-symbol">:</span> <a href="../types/_automerge_automerge-repo.RefUrl.html" class="tsd-signature-type tsd-kind-type-alias">RefUrl</a><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#change-1">change</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">fnOrValue</span><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a> <span class="tsd-signature-symbol">|</span> <a href="../types/_automerge_automerge-repo.RefChangeFn.html" class="tsd-signature-type tsd-kind-type-alias">RefChangeFn</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#contains-1">contains</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">other</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#doc-1">doc</a><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="../modules/_automerge_react.slim.Automerge.html" class="tsd-signature-type tsd-kind-namespace">Automerge</a><span class="tsd-signature-symbol">.</span><a href="../types/_automerge_react.slim.Automerge.Doc.html" class="tsd-signature-type tsd-kind-type-alias">Doc</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#equals-1">equals</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">other</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#ischildof-1">isChildOf</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">parent</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#isequivalent-1">isEquivalent</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">other</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#onchange-1">onChange</a><span class="tsd-signature-symbol">(</span><br/>        <span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><br/>            <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a><span class="tsd-signature-symbol">,</span><br/>            <span class="tsd-kind-parameter">payload</span><span class="tsd-signature-symbol">:</span> <a href="_automerge_automerge-repo.DocHandleChangePayload.html" class="tsd-signature-type tsd-kind-interface">DocHandleChangePayload</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">()</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#overlaps-1">overlaps</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">other</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#remove-1">remove</a><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#tostring-1">toString</a><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#value-1">value</a><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#valueof-1">valueOf</a><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#viewat-1">viewAt</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">heads</span><span class="tsd-signature-symbol">:</span> <a href="../modules/_automerge_react.slim.Automerge.html" class="tsd-signature-type tsd-kind-namespace">Automerge</a><span class="tsd-signature-symbol">.</span><a href="../types/_automerge_react.slim.Automerge.Heads.html" class="tsd-signature-type tsd-kind-type-alias">Heads</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/><span class="tsd-signature-symbol">}</span></div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="tvalue"><span class="tsd-kind-type-parameter">TValue</span> = <span class="tsd-signature-type">unknown</span></span><div class="tsd-comment tsd-typography"><p>The type of value this ref points to (defaults to unknown)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L238">packages/automerge-repo/src/refs/types.ts:238</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#dochandle" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>doc<wbr/>Handle</span></a>
<a href="#path" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>path</span></a>
<a href="#range" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>range?</span></a>
<a href="#rangepositions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>range<wbr/>Positions</span></a>
<a href="#url" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>url</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#change" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>change</span></a>
<a href="#contains" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>contains</span></a>
<a href="#doc" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>doc</span></a>
<a href="#equals" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>equals</span></a>
<a href="#ischildof" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>Child<wbr/>Of</span></a>
<a href="#isequivalent" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>Equivalent</span></a>
<a href="#onchange" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on<wbr/>Change</span></a>
<a href="#overlaps" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>overlaps</span></a>
<a href="#remove" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove</span></a>
<a href="#tostring" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>String</span></a>
<a href="#value" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>value</span></a>
<a href="#valueof" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>value<wbr/>Of</span></a>
<a href="#viewat" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>view<wbr/>At</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="dochandle"><code class="tsd-tag">Readonly</code> <code class="tsd-tag">Experimental</code><span>doc<wbr/>Handle</span><a href="#dochandle" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">docHandle</span><span class="tsd-signature-symbol">:</span> <a href="../classes/_automerge_automerge-repo.DocHandle.html" class="tsd-signature-type tsd-kind-class">DocHandle</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></div><div class="tsd-comment tsd-typography"><p>The document handle this ref belongs to</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L240">packages/automerge-repo/src/refs/types.ts:240</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="path"><code class="tsd-tag">Readonly</code> <code class="tsd-tag">Experimental</code><span>path</span><a href="#path" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">path</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">PathSegment</span><span class="tsd-signature-symbol">[]</span></div><div class="tsd-comment tsd-typography"><p>The resolved path segments</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L243">packages/automerge-repo/src/refs/types.ts:243</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="range"><code class="tsd-tag">Optional</code> <code class="tsd-tag">Readonly</code> <code class="tsd-tag">Experimental</code><span>range</span><a href="#range" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">range</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">CursorRange</span></div><div class="tsd-comment tsd-typography"><p>The cursor range, if this ref points to a text range</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L246">packages/automerge-repo/src/refs/types.ts:246</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="rangepositions"><code class="tsd-tag">Readonly</code> <code class="tsd-tag">Experimental</code><span>range<wbr/>Positions</span><a href="#rangepositions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">rangePositions</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">]</span></div><div class="tsd-comment tsd-typography"><p>The numeric positions of the range, if this is a range ref</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L249">packages/automerge-repo/src/refs/types.ts:249</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="url"><code class="tsd-tag">Readonly</code> <code class="tsd-tag">Experimental</code><span>url</span><a href="#url" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">url</span><span class="tsd-signature-symbol">:</span> <a href="../types/_automerge_automerge-repo.RefUrl.html" class="tsd-signature-type tsd-kind-type-alias">RefUrl</a></div><div class="tsd-comment tsd-typography"><p>The URL representation of this ref</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L252">packages/automerge-repo/src/refs/types.ts:252</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="change"><span>change</span><a href="#change" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="change-1"><span class="tsd-kind-call-signature">change</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">fnOrValue</span><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a> <span class="tsd-signature-symbol">|</span> <a href="../types/_automerge_automerge-repo.RefChangeFn.html" class="tsd-signature-type tsd-kind-type-alias">RefChangeFn</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#change-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Update the value at this ref's path.</p>
<p>For primitives, you can pass either:</p>
<ul>
<li>A function that receives the current value and returns the new value</li>
<li>A direct value (shorthand for primitives)</li>
</ul>
<p>For objects and arrays, mutate them in place within the function
(same semantics as Automerge). Returning new object/array instances
will trigger a warning as it loses granular change tracking.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">fnOrValue</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a> <span class="tsd-signature-symbol">|</span> <a href="../types/_automerge_automerge-repo.RefChangeFn.html" class="tsd-signature-type tsd-kind-type-alias">RefChangeFn</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws">Throws<a href="#throws" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if the ref is on a read-only handle (time-traveled view)</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-1">Throws<a href="#throws-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if the path cannot be resolved</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-9">// Function form (works for all types)</span><br/><span class="hl-2">counterRef</span><span class="hl-1">.</span><span class="hl-6">change</span><span class="hl-1">(</span><span class="hl-2">n</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">n</span><span class="hl-1"> + </span><span class="hl-8">1</span><span class="hl-1">);</span><br/><span class="hl-2">themeRef</span><span class="hl-1">.</span><span class="hl-6">change</span><span class="hl-1">(</span><span class="hl-2">t</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">t</span><span class="hl-1"> === </span><span class="hl-3">&#39;dark&#39;</span><span class="hl-1"> ? </span><span class="hl-3">&#39;light&#39;</span><span class="hl-1"> : </span><span class="hl-3">&#39;dark&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// Shorthand for primitives</span><br/><span class="hl-2">themeRef</span><span class="hl-1">.</span><span class="hl-6">change</span><span class="hl-1">(</span><span class="hl-3">&#39;dark&#39;</span><span class="hl-1">);</span><br/><span class="hl-2">counterRef</span><span class="hl-1">.</span><span class="hl-6">change</span><span class="hl-1">(</span><span class="hl-8">42</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// Objects/arrays: mutate in place</span><br/><span class="hl-2">todoRef</span><span class="hl-1">.</span><span class="hl-6">change</span><span class="hl-1">(</span><span class="hl-2">todo</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> { </span><span class="hl-2">todo</span><span class="hl-1">.</span><span class="hl-2">done</span><span class="hl-1"> = </span><span class="hl-4">true</span><span class="hl-1">; });</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L323">packages/automerge-repo/src/refs/types.ts:323</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="contains"><span>contains</span><a href="#contains" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="contains-1"><span class="tsd-kind-call-signature">contains</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">other</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#contains-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Check if this ref contains another ref (other is a descendant of this).</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">other</span>: <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">todoRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;todos&#39;</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">titleRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;todos&#39;</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-3">&#39;title&#39;</span><span class="hl-1">);</span><br/><span class="hl-2">todoRef</span><span class="hl-1">.</span><span class="hl-6">contains</span><span class="hl-1">(</span><span class="hl-2">titleRef</span><span class="hl-1">); </span><span class="hl-9">// true</span><br/><span class="hl-2">titleRef</span><span class="hl-1">.</span><span class="hl-6">contains</span><span class="hl-1">(</span><span class="hl-2">todoRef</span><span class="hl-1">); </span><span class="hl-9">// false</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L395">packages/automerge-repo/src/refs/types.ts:395</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="doc"><span>doc</span><a href="#doc" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="doc-1"><span class="tsd-kind-call-signature">doc</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="../modules/_automerge_react.slim.Automerge.html" class="tsd-signature-type tsd-kind-namespace">Automerge</a><span class="tsd-signature-symbol">.</span><a href="../types/_automerge_react.slim.Automerge.Doc.html" class="tsd-signature-type tsd-kind-type-alias">Doc</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><a href="#doc-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Get the underlying Automerge document.
For refs on read-only view handles, returns the document at those heads.</p>
</div><h4 class="tsd-returns-title">Returns <a href="../modules/_automerge_react.slim.Automerge.html" class="tsd-signature-type tsd-kind-namespace">Automerge</a><span class="tsd-signature-symbol">.</span><a href="../types/_automerge_react.slim.Automerge.Doc.html" class="tsd-signature-type tsd-kind-type-alias">Doc</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L293">packages/automerge-repo/src/refs/types.ts:293</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="equals"><span>equals</span><a href="#equals" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="equals-1"><span class="tsd-kind-call-signature">equals</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">other</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#equals-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Check if this ref is equal to another ref.
Two refs are equal if they have the same URL (document, path, and heads).</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">other</span>: <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L382">packages/automerge-repo/src/refs/types.ts:382</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="ischildof"><span>is<wbr/>Child<wbr/>Of</span><a href="#ischildof" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="ischildof-1"><span class="tsd-kind-call-signature">isChildOf</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">parent</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#ischildof-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Check if this ref is a child of another ref.</p>
<p>For arrays: only direct array elements are considered children
(path must be exactly one segment longer).</p>
<p>For text: sub-ranges within the text are considered children
(same path with a range, or one segment deeper).</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">parent</span>: <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-3">Example<a href="#example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-9">// Array children</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">arrayRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;items&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">itemRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;items&#39;</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">);</span><br/><span class="hl-2">itemRef</span><span class="hl-1">.</span><span class="hl-6">isChildOf</span><span class="hl-1">(</span><span class="hl-2">arrayRef</span><span class="hl-1">); </span><span class="hl-9">// true</span><br/><br/><span class="hl-9">// Text range children</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">textRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;content&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">rangeRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;content&#39;</span><span class="hl-1">, </span><span class="hl-6">cursor</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-8">10</span><span class="hl-1">));</span><br/><span class="hl-2">rangeRef</span><span class="hl-1">.</span><span class="hl-6">isChildOf</span><span class="hl-1">(</span><span class="hl-2">textRef</span><span class="hl-1">); </span><span class="hl-9">// true</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L419">packages/automerge-repo/src/refs/types.ts:419</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="isequivalent"><span>is<wbr/>Equivalent</span><a href="#isequivalent" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="isequivalent-1"><span class="tsd-kind-call-signature">isEquivalent</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">other</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#isequivalent-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Check if this ref is equivalent to another ref.
Two refs are equivalent if they point to the same value in the document,
even if they use different addressing schemes (e.g., index vs pattern).</p>
<p>This is useful when you have refs created with different path types
(e.g., by array index vs by object pattern match) and need to check
if they resolve to the same location.</p>
<p>Short-circuits for fast rejection when refs are obviously different.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">other</span>: <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-4">Example<a href="#example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">byIndex</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;todos&#39;</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">byId</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;todos&#39;</span><span class="hl-1">, { </span><span class="hl-2">id:</span><span class="hl-1"> </span><span class="hl-3">&#39;abc&#39;</span><span class="hl-1"> });</span><br/><span class="hl-9">// If todos[0].id === &#39;abc&#39;, these are equivalent</span><br/><span class="hl-2">byIndex</span><span class="hl-1">.</span><span class="hl-6">isEquivalent</span><span class="hl-1">(</span><span class="hl-2">byId</span><span class="hl-1">); </span><span class="hl-9">// true</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L454">packages/automerge-repo/src/refs/types.ts:454</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="onchange"><span>on<wbr/>Change</span><a href="#onchange" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="onchange-1"><span class="tsd-kind-call-signature">onChange</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><br/>        <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-kind-parameter">payload</span><span class="tsd-signature-symbol">:</span> <a href="_automerge_automerge-repo.DocHandleChangePayload.html" class="tsd-signature-type tsd-kind-interface">DocHandleChangePayload</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">()</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><a href="#onchange-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Subscribe to changes that affect this ref's value.</p>
<p>The callback is invoked whenever a change affects the value at this
ref's path. It receives the new value and the change payload.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">payload</span><span class="tsd-signature-symbol">:</span> <a href="_automerge_automerge-repo.DocHandleChangePayload.html" class="tsd-signature-type tsd-kind-interface">DocHandleChangePayload</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">()</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></h4><p>An unsubscribe function to stop listening</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-5">Example<a href="#example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">unsubscribe</span><span class="hl-1"> = </span><span class="hl-2">titleRef</span><span class="hl-1">.</span><span class="hl-6">onChange</span><span class="hl-1">((</span><span class="hl-2">value</span><span class="hl-1">, </span><span class="hl-2">payload</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Title changed to:&#39;</span><span class="hl-1">, </span><span class="hl-2">value</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-9">// Later, stop listening</span><br/><span class="hl-6">unsubscribe</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L371">packages/automerge-repo/src/refs/types.ts:371</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="overlaps"><span>overlaps</span><a href="#overlaps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="overlaps-1"><span class="tsd-kind-call-signature">overlaps</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">other</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#overlaps-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Check if this ref overlaps with another ref (for text/range refs).
Two refs overlap if they refer to the same parent location and their
cursor ranges overlap.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">other</span>: <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-6">Example<a href="#example-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">range1</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;content&#39;</span><span class="hl-1">, </span><span class="hl-6">cursor</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-8">10</span><span class="hl-1">));</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">range2</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;content&#39;</span><span class="hl-1">, </span><span class="hl-6">cursor</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-8">15</span><span class="hl-1">));</span><br/><span class="hl-2">range1</span><span class="hl-1">.</span><span class="hl-6">overlaps</span><span class="hl-1">(</span><span class="hl-2">range2</span><span class="hl-1">); </span><span class="hl-9">// true (overlap at positions 5-10)</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L433">packages/automerge-repo/src/refs/types.ts:433</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="remove"><span>remove</span><a href="#remove" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="remove-1"><span class="tsd-kind-call-signature">remove</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#remove-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Remove the value this ref points to from its parent container.</p>
<ul>
<li>For object properties: deletes the key from the object</li>
<li>For array elements: removes the item from the array (splice)</li>
<li>For text ranges: deletes the text within the range</li>
</ul>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-2">Throws<a href="#throws-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if the ref points to the root document</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-3">Throws<a href="#throws-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if the ref is on a read-only handle</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-4">Throws<a href="#throws-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if the path cannot be resolved</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-7">Example<a href="#example-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-9">// Remove a property from an object</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">nameRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;user&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;name&#39;</span><span class="hl-1">);</span><br/><span class="hl-2">nameRef</span><span class="hl-1">.</span><span class="hl-6">remove</span><span class="hl-1">(); </span><span class="hl-9">// deletes handle.doc().user.name</span><br/><br/><span class="hl-9">// Remove an item from an array</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">todoRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;todos&#39;</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">);</span><br/><span class="hl-2">todoRef</span><span class="hl-1">.</span><span class="hl-6">remove</span><span class="hl-1">(); </span><span class="hl-9">// removes first todo from array</span><br/><br/><span class="hl-9">// Remove text within a range</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">rangeRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;text&#39;</span><span class="hl-1">, </span><span class="hl-6">cursor</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-8">5</span><span class="hl-1">));</span><br/><span class="hl-2">rangeRef</span><span class="hl-1">.</span><span class="hl-6">remove</span><span class="hl-1">(); </span><span class="hl-9">// deletes first 5 characters</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L351">packages/automerge-repo/src/refs/types.ts:351</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="tostring"><span>to<wbr/>String</span><a href="#tostring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="tostring-1"><span class="tsd-kind-call-signature">toString</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><a href="#tostring-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Returns the ref URL</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L460">packages/automerge-repo/src/refs/types.ts:460</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="value"><span>value</span><a href="#value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="value-1"><span class="tsd-kind-call-signature">value</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a><a href="#value-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Get the current value at this ref's path.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a></h4><p>The value, or undefined if the path can't be resolved</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-8">Example<a href="#example-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">titleRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;todos&#39;</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-3">&#39;title&#39;</span><span class="hl-1">);</span><br/><span class="hl-2">titleRef</span><span class="hl-1">.</span><span class="hl-6">value</span><span class="hl-1">(); </span><span class="hl-9">// &quot;Buy milk&quot; or undefined</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L287">packages/automerge-repo/src/refs/types.ts:287</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="valueof"><span>value<wbr/>Of</span><a href="#valueof" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="valueof-1"><span class="tsd-kind-call-signature">valueOf</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><a href="#valueof-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Returns the ref URL</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L457">packages/automerge-repo/src/refs/types.ts:457</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="viewat"><span>view<wbr/>At</span><a href="#viewat" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="viewat-1"><span class="tsd-kind-call-signature">viewAt</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">heads</span><span class="tsd-signature-symbol">:</span> <a href="../modules/_automerge_react.slim.Automerge.html" class="tsd-signature-type tsd-kind-namespace">Automerge</a><span class="tsd-signature-symbol">.</span><a href="../types/_automerge_react.slim.Automerge.Heads.html" class="tsd-signature-type tsd-kind-type-alias">Heads</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a><span class="tsd-signature-symbol">&gt;</span><a href="#viewat-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><code class="tsd-tag">Experimental</code><div class="tsd-comment tsd-typography"><p>Create a new ref viewing the document at specific heads (time-travel).
Returns a new Ref instance on a read-only view handle at the specified heads.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">heads</span>: <a href="../modules/_automerge_react.slim.Automerge.html" class="tsd-signature-type tsd-kind-namespace">Automerge</a><span class="tsd-signature-symbol">.</span><a href="../types/_automerge_react.slim.Automerge.Heads.html" class="tsd-signature-type tsd-kind-type-alias">Heads</a></span><div class="tsd-comment tsd-typography"><p>The document heads to view (hex-encoded, from Automerge.getHeads)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-interface">Ref</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#tvalue">TValue</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A new Ref instance pointing to the same path but at the specified heads</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-9">Example<a href="#example-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-9">// Get current heads before making changes</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">heads</span><span class="hl-1"> = </span><span class="hl-2">Automerge</span><span class="hl-1">.</span><span class="hl-6">getHeads</span><span class="hl-1">(</span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">doc</span><span class="hl-1">());</span><br/><br/><span class="hl-9">// Make changes</span><br/><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">change</span><span class="hl-1">(</span><span class="hl-2">d</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> { </span><span class="hl-2">d</span><span class="hl-1">.</span><span class="hl-2">value</span><span class="hl-1"> = </span><span class="hl-3">&#39;new&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-9">// View the old state</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">pastRef</span><span class="hl-1"> = </span><span class="hl-2">handle</span><span class="hl-1">.</span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-3">&#39;value&#39;</span><span class="hl-1">).</span><span class="hl-6">viewAt</span><span class="hl-1">(</span><span class="hl-2">heads</span><span class="hl-1">);</span><br/><span class="hl-2">pastRef</span><span class="hl-1">.</span><span class="hl-6">value</span><span class="hl-1">(); </span><span class="hl-9">// returns old value</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/automerge/automerge-repo/blob/9838deecf6c0c1bcfedac069677bd412bd78d15a/packages/automerge-repo/src/refs/types.ts#L274">packages/automerge-repo/src/refs/types.ts:274</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#dochandle"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>doc<wbr/>Handle</span></a><a href="#path"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>path</span></a><a href="#range"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>range</span></a><a href="#rangepositions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>range<wbr/>Positions</span></a><a href="#url"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>url</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#change"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>change</span></a><a href="#contains"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>contains</span></a><a href="#doc"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>doc</span></a><a href="#equals"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>equals</span></a><a href="#ischildof"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>Child<wbr/>Of</span></a><a href="#isequivalent"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>is<wbr/>Equivalent</span></a><a href="#onchange"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on<wbr/>Change</span></a><a href="#overlaps"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>overlaps</span></a><a href="#remove"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove</span></a><a href="#tostring"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>to<wbr/>String</span></a><a href="#value"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>value</span></a><a href="#valueof"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>value<wbr/>Of</span></a><a href="#viewat"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>view<wbr/>At</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">Automerge Repo - v2.5.2</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
